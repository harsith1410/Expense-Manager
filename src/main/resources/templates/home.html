<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

    <title>Expense Directory</title>

    <style>
        body {
            background-color: #0f172a; /* A deep, dark blue */
            color: #e2e8f0; /* Light text for readability */
        }

        .card {
            background-color: rgba(30, 41, 59, 0.5); /* Semi-transparent dark card */
            border: 1px solid #334155;
            backdrop-filter: blur(10px);
        }

        .card-glow-success {
            box-shadow: 0 0 15px rgba(34, 197, 94, 0.5), inset 0 0 10px rgba(34, 197, 94, 0.3);
        }

        .card-glow-danger {
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.5), inset 0 0 10px rgba(239, 68, 68, 0.3);
        }

        .card-glow-info {
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.5), inset 0 0 10px rgba(59, 130, 246, 0.3);
        }

        .table {
            --bs-table-color: #e2e8f0;
            --bs-table-border-color: #334155;
            --bs-table-striped-bg: rgba(51, 65, 85, 0.5);
            --bs-table-hover-bg: rgba(71, 85, 105, 0.5);
        }

        .table-dark {
            --bs-table-bg: #1e293b;
            --bs-table-border-color: #475569;
        }

        hr {
            border-color: #334155;
        }

    </style>
</head>

<body>

<div class="container mt-5 mb-5">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3>Expense Directory</h3>
        <div>
            <span class="me-3">Welcome, <b th:text="${user}">ADMIN</b></span>
            <a th:href="@{/expenses/add(User=${user})}" class="btn btn-primary">
                Add Expense
            </a>
        </div>

    </div>

    <hr>

    <div class="row g-3 mb-4">
        <div class="col-md-4">
            <div class="card card-glow-success">
                <div class="card-body">
                    <h5 class="card-title text-white">Income</h5>
                    <p class="card-text fs-4 fw-bold text-success" th:text="${income_amt}">100</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-glow-danger">
                <div class="card-body">
                    <h5 class="card-title text-white">Expenses</h5>
                    <p class="card-text fs-4 fw-bold text-danger" th:text="${e_amt}">150</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card card-glow-info">
                <div class="card-body">
                    <h5 class="card-title text-white">Net Balance</h5>
                    <p class="card-text fs-4 fw-bold text-info" th:text="${net_total}">-50</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Expense Table Section -->
    <div class="card shadow-sm">
        <div class="card-body">
            <table class="table table-dark table-hover mb-0">
                <thead class="table-dark">
                <tr>

                    <th>Date</th>
                    <th>Category</th>
                    <th>Discription</th>
                    <th>Expense Type</th>
                    <th>Amount</th>
                    <th>Action</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="tempexpense : ${expenses}">
                    <td th:text="${tempexpense.expenseDate}">2025-09-03</td>
                    <td th:text="${tempexpense.expenseCategory}">Category</td>
                    <td th:text="${tempexpense.expenseDetails}">What did you do</td>
                    <td th:text="${tempexpense.expense_type}">Food</td>
                    <td class="fw-bold" th:text="${tempexpense.amount}">$120.50</td>
                    <td>

                        <a th:href="@{/update(Id=${tempexpense.id},User=${user})}"
                           class="btn btn-outline-secondary btn-sm">
                            Update
                        </a>

                        <a th:href="@{/delete(Id=${tempexpense.id})}"
                           class="btn btn-outline-danger btn-sm"
                           onclick="if (!(confirm('Are you sure you want to delete this Expense?'))) return false">
                            Delete
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

</body>
</html>

